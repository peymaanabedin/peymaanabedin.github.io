
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>لونا | Luna</title>
    
    <link rel="manifest" href="manifest.json">
    
    <meta name="theme-color" content="#D98BAA">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="لونا">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/WbCF8vNk/luna-app.png">
    
    <link rel="icon" type="image/png" href="https://i.postimg.cc/WbCF8vNk/luna-app.png">

    <link href="https://cdn.jsdelivr.net/npm/vazirmatn@33.0.3/Vazirmatn-font-face.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
       /* CSS for Modern PWA Launch Screen */
#launch-screen {
    position: fixed;
    inset: 0;
    z-index: 10000;
    background-color: #FEFBFB;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.5s ease-out, visibility 0.5s;
    visibility: visible;
    opacity: 1;
}
#launch-screen.hidden {
    opacity: 0;
    visibility: hidden;
}
.launch-content {
    text-align: center;
}
.launch-logo {
    width: 100px;
    height: 100px;
    border-radius: 22px;
}
.launch-title {
    color: #B4A0C2; /* Muted Purple */
    font-weight: 500;
    font-size: 1rem;
    margin-top: 15px;
}
.loader {
    position: absolute;
    bottom: 50px;
    left: 50%;
    /* The transform property is removed from here */
    width: 40px;
    height: 40px;
    border: 3px solid #F3EAEB;
    border-bottom-color: #D98BAA;
    border-radius: 50%;
    box-sizing: border-box;
    animation: rotation 1s linear infinite;
}
@keyframes rotation {
    0% {
        transform: translateX(-50%) rotate(0deg);
    }
    100% {
        transform: translateX(-50%) rotate(360deg);
    }
}
html.dark-mode #launch-screen {
    background-color: #2A2428;
}
html.dark-mode .launch-title {
    color: #A8A1A4;
}
html.dark-mode .loader {
    border: 3px solid #524A4E;
    border-bottom-color: #D98BAA;
}

        :root {
            --font-family: 'Vazirmatn', sans-serif;
            --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);
            
            /* Light Theme */
            --bg-main-light: #FEFBFB; --card-bg-light: #ffffff; --text-main-light: #332C33; --text-subtle-light: #7E787E; --border-color-light: #F3EAEB; --shadow-light: 0 10px 30px rgba(180,150,160,0.1); --selector-highlight-light: rgba(217, 139, 170, 0.1);

            /* Dark Theme */
            --bg-main-dark: #2A2428; --card-bg-dark: #3D3539; --text-main-dark: #F5F1F2; --text-subtle-dark: #A8A1A4; --border-color-dark: #524A4E; --shadow-dark: 0 10px 30px rgba(0,0,0,0.2); --selector-highlight-dark: rgba(217, 139, 170, 0.15);
            
            /* New Feminine & Elegant Color Palette */
            --c-menstrual: #EAA2A2;  /* Dusty Rose */
            --c-follicular: #F8C8A8; /* Gentle Peach */
            --c-ovulation: #C5B0E0;  /* Soft Lavender */
            --c-luteal: #F3B396;    /* Warm Coral */
            --c-pms: #B4A0C2;       /* Muted Purple */
            --c-theme-main: #D98BAA; /* Elegant Pink */

            /* Dynamic Phase Theme Color */
            --phase-theme-color: var(--c-theme-main);
        }

        html {
            --bg-main: var(--bg-main-light); --card-bg: var(--card-bg-light); --text-main: var(--text-main-light); --text-subtle: var(--text-subtle-light); --border-color: var(--border-color-light); --shadow: var(--shadow-light); --selector-highlight-bg: var(--selector-highlight-light);
            background-color: var(--bg-main); color: var(--text-main); transition: background-color 0.4s, color 0.4s; scroll-behavior: smooth;
        }
        html.dark-mode {
            --bg-main: var(--bg-main-dark); --card-bg: var(--card-bg-dark); --text-main: var(--text-main-dark); --text-subtle: var(--text-subtle-dark); --border-color: var(--border-color-dark); --shadow: var(--shadow-dark); --selector-highlight-bg: var(--selector-highlight-dark);
        }
        
        *, *::before, *::after { box-sizing: border-box; }

        body { font-family: var(--font-family); margin: 0; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

        .app-container { max-width: 480px; margin: 0 auto; padding: 15px; min-height: 100vh; }
        .app-header { display: flex; justify-content: space-between; align-items: center; padding: 20px 10px; }
        .app-title { font-size: 1.8rem; font-weight: 800; color: var(--phase-theme-color); transition: color 0.5s var(--ease-out-quart); }
        .header-actions { display: flex; align-items: center; gap: 20px; }
        .theme-switch { position: relative; display: inline-block; width: 50px; height: 28px; }
        .theme-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; inset: 0; background-color: var(--border-color); transition: .4s; border-radius: 28px; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--c-ovulation); }
        input:checked + .slider:before { transform: translateX(22px); }
        .settings-btn { background: none; border: none; font-size: 1.5rem; color: var(--phase-theme-color); cursor: pointer; opacity: 0.8; transition: opacity 0.2s, color 0.5s var(--ease-out-quart); }
        .settings-btn:hover { opacity: 1; }

        .card-base { background: var(--card-bg); padding: 25px; border-radius: 24px; box-shadow: var(--shadow); transition: background-color 0.4s, box-shadow 0.4s; }
        .main-btn { width: 100%; padding: 18px; font-size: 1.1rem; font-weight: 700; color: white; border: none; border-radius: 16px; cursor: pointer; transition: all 0.2s ease; font-family: var(--font-family); }
        
        .setup-view { padding: 20px; text-align: center; animation: fadeIn 0.5s; }
        .setup-view h1 { font-size: 1.8rem; margin-bottom: 15px; color: var(--c-theme-main); }
        .setup-view p { font-size: 1.1rem; color: var(--text-subtle); margin-bottom: 40px; }
        .input-group { margin-bottom: 25px; text-align: right; }
        .input-group label { font-size: 1rem; font-weight: 500; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .input-field { width: 100%; padding: 16px; font-size: 1rem; border-radius: 14px; font-family: var(--font-family); background: var(--bg-main); border: 1px solid var(--border-color); color: var(--text-main); transition: all 0.4s; }
        #startTrackingBtn { background: linear-gradient(135deg, var(--c-theme-main), #EAA2A2); }

        .tracker-view { display: none; flex-direction: column; gap: 20px; animation: fadeIn 0.5s; }
        
        .special-banner, .period-alert-card {
            display: none; padding: 15px 20px; border-radius: 18px; font-weight: 600;
            animation: fadeIn 0.5s;
        }
        .special-banner {
            display: flex; align-items: center; gap: 12px; color: white;
        }
        .special-banner.ovulation { background-color: var(--c-ovulation); }
        .special-banner.pms { background-color: var(--c-pms); }
        .period-alert-card {
            display: flex; align-items: center; gap: 15px; background-color: var(--c-menstrual); color: white;
        }
        .period-alert-card .fa-bell { font-size: 1.4rem; }

        .progress-card { display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .progress-display { position: relative; width: 220px; height: 220px; }
        .progress-svg { transform: rotate(-90deg); }
        .progress-circle { transition: stroke 0.5s var(--ease-out-quart), stroke-dashoffset 0.8s var(--ease-out-quart); }
        .progress-text { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .day-number { font-size: 4.5rem; font-weight: 800; line-height: 1; }
        .day-label { font-size: 1.1rem; font-weight: 500; color: var(--text-subtle); }
        .phase-info { display: flex; flex-direction: column; align-items: center; gap: 8px; }
        #phaseIcon { font-size: 1.8rem; transition: color 0.5s var(--ease-out-quart); }
        .phase-title { font-size: 1.4rem; font-weight: 600; }

        .day-navigation { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--border-color); }
        .day-nav-buttons { display: flex; justify-content: space-between; align-items: center; width: 100%;}
        .nav-btn, #todayBtn { font-family: var(--font-family); }
        .nav-btn { background: none; border: none; font-size: 1.5rem; color: var(--text-subtle); cursor: pointer; padding: 10px; }
        #todayBtn { font-size: 0.9rem; font-weight: 600; border-radius: 10px; padding: 6px 16px; cursor: pointer; transition: all 0.2s ease; background-color: transparent; border: 2px solid var(--text-subtle); color: var(--text-subtle); }
        #todayBtn:hover { transform: scale(1.05); }
        .displayed-date { font-weight: 500; color: var(--text-subtle); font-size: 0.9rem; }

        .details-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .detail-card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 15px; }
        .detail-card-icon { font-size: 1rem; width: 32px; height: 32px; border-radius: 8px; display: grid; place-items: center; color: var(--phase-theme-color); background-color: var(--bg-main); border: 1px solid var(--border-color); transition: color 0.5s, background-color 0.4s, border-color 0.4s; }
        .detail-card-title { font-size: 1.1rem; font-weight: 600; margin: 0; color: var(--phase-theme-color); transition: color 0.5s var(--ease-out-quart); }
        .detail-card-content p { margin: 0; color: var(--text-subtle); line-height: 1.7; }

        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 15px; }
        .stat-item .progress-bar-container { width: 100%; height: 8px; background-color: var(--border-color); border-radius: 4px; overflow: hidden; margin-top: 8px; }
        .stat-item .progress-bar { height: 100%; background: var(--text-subtle); border-radius: 4px; transition: width 0.5s ease-out; }
        .stat-item .stat-label { display: flex; justify-content: space-between; align-items: center; font-weight: 500; }
        .stat-item .qualitative-text { font-size: 0.85rem; color: var(--text-subtle); font-weight: 400; }

        .settings-overlay { position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.5); opacity: 0; visibility: hidden; transition: opacity 0.3s ease; z-index: 999; }
        .settings-overlay.active { opacity: 1; visibility: visible; }
        .settings-panel { position: fixed; bottom: 0; left: 0; right: 0; background: var(--bg-main); padding: 20px; border-radius: 28px 28px 0 0; box-shadow: 0 -10px 40px rgba(0,0,0,0.15); transform: translateY(100%); transition: transform 0.4s var(--ease-out-quart), background-color 0.4s; z-index: 1000; text-align: center;}
        .settings-panel.active { transform: translateY(0); }
        .settings-panel h2 { text-align: center; margin-top: 0; margin-bottom: 25px; }
        .settings-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;}
        #cancelSettingsBtn { background-color: var(--border-color); color: var(--text-main);}
        #saveSettingsBtn { background-color: var(--c-theme-main); color: white;}
        #closeAboutBtn { background-color: var(--phase-theme-color); transition: background-color 0.5s var(--ease-out-quart); }
        .about-logo { width: 80px; height: 80px; border-radius: 20px; margin-bottom: 15px; box-shadow: var(--shadow); }

        .modal-overlay{position:fixed;inset:0;background-color:rgba(0,0,0,.6);display:flex;align-items:flex-end;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;z-index:1001}.modal-overlay.visible{opacity:1;visibility:visible}.modal-content{background-color:var(--card-bg);color: var(--text-main); border: 1px solid var(--border-color); border-radius:16px 16px 0 0;width:100%;max-width:480px;text-align:center;box-shadow:0 -5px 25px rgba(0,0,0,.1);transform:translateY(100%);transition:transform .3s ease-out, background-color 0.4s, color 0.4s}.modal-overlay.visible .modal-content{transform:translateY(0)}.modal-header{padding:12px 20px;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.selectors-container{display:flex;justify-content:center;gap:0;padding:20px;direction:ltr}.selector-column{flex:1;height:220px;overflow:hidden;position:relative}.selector-list{position:absolute;width:100%;list-style:none;padding:0;margin:0}.selector-item{font-size:1.25rem;line-height:44px;height:44px;color:var(--text-subtle);user-select:none;transition:color .3s,font-weight .3s}.selector-item.selected{color:var(--text-main);font-weight:600}.selector-highlight{position:absolute;top:50%;left:10px;right:10px;height:44px;transform:translateY(-50%);background-color:var(--selector-highlight-bg);border-radius:8px;pointer-events:none}.btn{background:none;border:none;padding:12px 20px;cursor:pointer;font-family:var(--font-family);font-size:1rem;font-weight:500;border-radius:8px}.btn-confirm{color:var(--c-theme-main);font-weight:600}.btn-close{color:var(--text-subtle)}

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="launch-screen">
    <div class="launch-content">
        <img src="https://i.postimg.cc/WbCF8vNk/luna-app.png" alt="لوگوی لونا" class="launch-logo">
        <p class="launch-title">مدیریت سلامت زنان لونا</p>
    </div>
    <span class="loader"></span>
</div>

    <div class="app-container">
        <header class="app-header">
            <h1 class="app-title">لونا</h1>
            <div class="header-actions">
                <button class="settings-btn" id="aboutBtn" title="درباره"><i class="fa-solid fa-circle-info"></i></button>
                <label class="theme-switch"><input type="checkbox" id="themeToggle"><span class="slider"></span></label>
                <button class="settings-btn" id="openSettingsBtn" title="تنظیمات"><i class="fa-solid fa-gear"></i></button>
            </div>
        </header>

        <main id="setupView">
            <div class="setup-view card-base">
                <img src="https://i.postimg.cc/WbCF8vNk/luna-app.png" alt="لوگوی لونا" class="about-logo">
                <h1>به لونا خوش آمدید!</h1><p>برای شروع، تاریخ آخرین پریود و طول معمول دوره خود را وارد کنید.</p>
                <div class="input-group"><label for="lastPeriodDate"><i class="fa-solid fa-calendar-day"></i> تاریخ شروع آخرین پریود</label><input type="text" id="lastPeriodDate" class="input-field" placeholder="انتخاب تاریخ" readonly/></div>
                <div class="input-group"><label for="cycleLength"><i class="fa-solid fa-arrows-rotate"></i> طول معمول چرخه</label><input type="number" id="cycleLength" class="input-field" value="28" min="15" max="45" /></div>
                <button id="startTrackingBtn" class="main-btn">شروع ردیابی</button>
            </div>
        </main>
        
        <main id="trackerView" class="tracker-view">
            <div id="periodAlertCard" class="period-alert-card"></div>
            <div id="specialDayBanner" class="special-banner"></div>
            <div class="progress-card card-base">
                <div class="progress-display">
                    <svg class="progress-svg" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="var(--border-color)" stroke-width="8"></circle>
                        <circle id="progress-circle-fg" class="progress-circle" cx="50" cy="50" r="45" fill="none" stroke="var(--c-follicular)" stroke-width="8" stroke-linecap="round"></circle>
                    </svg>
                    <div class="progress-text"><span id="progressDayNumber" class="day-number">۱۲</span><span class="day-label">روز از چرخه</span></div>
                </div>
                <div class="phase-info"><i id="phaseIcon" class="fa-solid fa-leaf"></i><h2 id="cyclePhaseTitle" class="phase-title">فاز فولیکولی</h2></div>
                <div class="day-navigation">
                    <div class="day-nav-buttons">
                        <button class="nav-btn" id="nextDayBtn"><i class="fa-solid fa-chevron-right"></i></button>
                        <button id="todayBtn">امروز</button>
                        <button class="nav-btn" id="prevDayBtn"><i class="fa-solid fa-chevron-left"></i></button>
                    </div>
                    <div id="displayedJalaliDate" class="displayed-date"></div>
                </div>
            </div>
            <div id="detailsGrid" class="details-grid"></div>
        </main>
    </div>

    <div class="settings-overlay" id="settingsOverlay"></div>
    <div class="settings-panel" id="settingsPanel">
        <h2>تنظیمات</h2>
        <div class="input-group"><label for="settingsPeriodDate"><i class="fa-solid fa-calendar-day"></i> تاریخ شروع آخرین پریود</label><input type="text" id="settingsPeriodDate" class="input-field" readonly/></div>
        <div class="input-group"><label for="settingsCycleLength"><i class="fa-solid fa-arrows-rotate"></i> طول معمول چرخه</label><input type="number" id="settingsCycleLength" class="input-field" min="15" max="45" /></div>
        <div class="settings-buttons"><button id="cancelSettingsBtn" class="main-btn">انصراف</button><button id="saveSettingsBtn" class="main-btn">ذخیره</button></div>
    </div>

    <div class="settings-overlay" id="aboutOverlay"></div>
    <div class="settings-panel" id="aboutPanel">
        <img src="https://i.postimg.cc/WbCF8vNk/luna-app.png" alt="لوگوی لونا" class="about-logo">
        <h2>درباره لونا (Luna)</h2>
        <div style="text-align: right; line-height: 1.8; padding: 0 15px; color: var(--text-subtle);">
            <p>اپلیکیشن سلامت زنان **لونا**، یک همراه هوشمند برای درک و پیگیری چرخه قاعدگی شماست. با لونا می‌توانید در هر روز از دوره، وضعیت بدن، سطح انرژی و تغییرات هورمونی خود را بهتر بشناسید.</p>
            <p style="color: var(--text-main);"><strong>ویژگی‌ها:</strong></p>
            <ul style="padding-right: 35px; margin-top: -10px;">
                <li>نمایش روز و فاز فعلی چرخه با طراحی زیبا</li>
                <li>توضیحات روزانه درباره وضعیت جسمی و روحی</li>
                <li>نمودارهای انرژی، میل جنسی و احتمال باروری</li>
                <li>تم رنگی پویا و هماهنگ با هر فاز</li>
                <li>پشتیبانی از حالت تاریک و روشن</li>
            </ul>
        </div>
        <div class="settings-buttons" style="grid-template-columns: 1fr;">
            <button id="closeAboutBtn" class="main-btn">بستن</button>
        </div>
    </div>
    
    <script>
    
const launchScreen = document.getElementById('launch-screen');
        // Hide launch screen after all content (images, fonts, etc.) is fully loaded
window.onload = () => {
launchScreen.classList.add('hidden');
        };
    
document.addEventListener('DOMContentLoaded', () => {
        // --- Data & Helpers ---

const cycleData = [
  {},
  {
    day: 1,
    phase: "قاعدگی",
    icon: "fa-droplet",
    color: "var(--c-menstrual)",
    description: "سلام به روز اول و شروع یک چرخه جدید! امروز بدن با ریزش دیواره رحم، خانه‌تکانی می‌کند و خودش را برای یک ماه جدید و سالم پاکسازی می‌کند. به این تولد دوباره خوشامد بگو.",
    bleeding: 10,
    hormones: "استروژن (هورمون انرژی و شادی) و پروژسترون (هورمون آرامش و مادرانگی) هر دو در پایین‌ترین سطح خود هستند. انگار به یک تعطیلات حسابی رفته‌اند!",
    mood: "ممکن است حس کنی دلت می‌خواهد در غار تنهایی خودت باشی و حوصله کمتری داشته باشی. این فرصتی برای بازنگری و استراحت است، به این حس احترام بگذار.",
    energy: 2,
    libido: 2,
    partner: "حمایت، صبوری و درک متقابل در این روز کلیدی است. یک کیسه آب گرم، یک فنجان چای، و یک آغوش آرام بهترین هدیه است. از او بپرس چه چیزی آرامش می‌کند.",
    pregnancy: 0,
  },
  {
    day: 2,
    phase: "قاعدگی",
    icon: "fa-droplet",
    color: "var(--c-menstrual)",
    description: "خونریزی ادامه دارد و بدن همچنان در فاز استراحت و بازیابی است. اگر احساس خستگی می‌کنی طبیعی است، پس به خودت سخت نگیر و به بدنت گوش کن.",
    bleeding: 8,
    hormones: "هورمون‌ها همچنان در سطح پایینی قرار دارند و بدن در حال بازیابی انرژی برای روزهای پربار آینده است. صبور باش.",
    mood: "خلق پایین و تحریک‌پذیری ممکن است ادامه داشته باشد. اگر حساسی و زود از کوره در می‌روی، این بخشی از روند طبیعی بدنت است و تقصیر تو نیست.",
    energy: 3,
    libido: 2,
    partner: "همچنان حمایت و صبوری بهترین کاری است که می‌توانی انجام دهی. حضور آرام تو و کمک در کارهای روزمره، بزرگترین محبت است.",
    pregnancy: 0,
  },
  {
    day: 3,
    phase: "قاعدگی",
    icon: "fa-droplet",
    color: "var(--c-menstrual)",
    description: "خبر خوب! خونریزی در حال سبک شدن است و انرژی‌ات کم‌کم رو به افزایش می‌رود. این آخرین روزهای فصل زمستان بدن توست و بهار در راه است.",
    bleeding: 5,
    hormones: "استروژن (هورمون انرژی) موتورش را روشن کرده و آماده بازگشت است، هرچند هنوز سطحش پایین است، اما نویدبخش روزهای بهتر است.",
    mood: "احتمالاً خلق و خویت بهبود پیدا می‌کند، اما ممکن است همچنان کمی حساس باشی. کم‌کم داری از پیله خود بیرون می‌آیی و دنیا رنگی‌تر می‌شود.",
    energy: 4,
    libido: 3,
    partner: "حمایت و درک تو همچنان مؤثر است. یک تعریف کوچک یا یک «دوستت دارم» ساده می‌تواند روز او را بسازد و به او انرژی بدهد.",
    pregnancy: 0,
  },
  {
    day: 4,
    phase: "قاعدگی",
    icon: "fa-droplet",
    color: "var(--c-menstrual)",
    description: "خونریزی تقریباً تمام شده و به صورت لکه‌بینی خیلی کم درآمده. فصل بهار بدن کم‌کم در حال آغاز شدن است و تو احساس سبکی و تازگی می‌کنی.",
    bleeding: 2,
    hormones: "افزایش تدریجی استروژن حال تو را بهتر می‌کند و به آرامی به تو انرژی می‌دهد. مثل طلوع خورشید بعد از یک شب طولانی است.",
    mood: "خلق و انگیزه‌ات بهتر می‌شود. احساس می‌کنی دنیا دوباره رنگی شده و آماده‌ای تا از خانه بیرون بزنی و با دیگران ارتباط برقرار کنی.",
    energy: 5,
    libido: 4,
    partner: "او را به یک فعالیت سبک و تجربه مشترک، مثل قدم زدن در پارک یا دیدن یک فیلم کمدی، تشویق کن.",
    pregnancy: 1,
  },
  {
    day: 5,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "بهار رسماً شروع شد! خونریزی تمام شده و بدنت با جدیت در حال پرورش فولیکول‌ها (کیسه‌های کوچکی که تخمک در آنها رشد می‌کند) در تخمدان است.",
    bleeding: 0,
    hormones: "افزایش تدریجی استروژن (هورمون خوش‌بینی و انرژی) به تو حس خوبی می‌دهد و تو را برای روزهای آینده آماده می‌کند. این هورمون مثل یک مربی مشوق عمل می‌کند.",
    mood: "خلق و انگیزه بهتر می‌شود. احساس سبکی و طراوت می‌کنی و برای شروع هفته‌ای نو، برنامه‌ریزی و هدف‌گذاری آماده‌ای.",
    energy: 6,
    libido: 5,
    partner: "بهترین زمان برای برنامه‌ریزی‌های مشترک و صحبت در مورد اهداف آینده است. از انرژی مثبت او برای پیشبرد کارهای دونفره استفاده کن.",
    pregnancy: 1,
  },
  {
    day: 6,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "امروز افزایش انرژی و میل جنسی را به شکل محسوس‌تری حس می‌کنی. دنیا جای زیباتری به نظر می‌رسد و تو آماده‌ای تا از این زیبایی لذت ببری.",
    bleeding: 0,
    hormones: "مهمانی استروژن در بدن تو هر روز شلوغ‌تر می‌شود و سطح انرژی‌ات را بالاتر می‌برد! این هورمون به تو احساس قدرت و جذابیت می‌دهد.",
    mood: "روحیه مثبت‌تر و انگیزه بالاتر. آماده‌ای تا کارهای جدید را امتحان کنی و از چالش‌ها نترسی. خوش‌بینی در تو موج می‌زند.",
    energy: 6,
    libido: 6,
    partner: "او را به تجربه‌های مشترک و فعالیت‌های دونفره تشویق کن. انرژی او برای این کارها زیاد است، پس با هم خاطره بسازید.",
    pregnancy: 2,
  },
  {
    day: 7,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "سطح انرژی و میل جنسی‌ات بیشتر شده و احساس سرزندگی می‌کنی. این روند صعودی ادامه خواهد داشت! از این حس خوب نهایت استفاده را ببر.",
    bleeding: 0,
    hormones: "استروژن رو به افزایش است و تو را هر روز اجتماعی‌تر و پرانرژی‌تر می‌کند. این هورمون مسئول درخشش پوست و موی تو نیز هست.",
    mood: "خلق خوب و انگیزه بیشتر. تمایل بیشتری به معاشرت با دوستان و عزیزان داری و از ارتباطات اجتماعی لذت می‌بری.",
    energy: 7,
    libido: 6,
    partner: "از انرژی خوب او برای ساختن خاطرات شاد و مشترک استفاده کن. یک پیک‌نیک یا یک شام دوستانه ایده خوبی است.",
    pregnancy: 2,
  },
  {
    day: 8,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "انرژی بالا، روحیه مثبت و میل جنسی رو به رشد! روز خوبی برای انجام کارهای خلاقانه یا ارائه ایده‌های جدید در محل کار است.",
    bleeding: 0,
    hormones: "استروژن بالا می‌رود و مغز تو را برای یادگیری، حل مسئله و تفکر خلاق تیزتر و آماده‌تر می‌کند.",
    mood: "خلق عالی و انگیزه زیاد. احساس می‌کنی هیچ کاری نیست که از پس آن برنیایی و اعتماد به نفست بالاست.",
    energy: 7,
    libido: 7,
    partner: "او را در اهداف و پروژه‌هایش تشویق کن. حمایت تو به او انگیزه مضاعف می‌دهد و باعث می‌شود بیشتر بدرخشد.",
    pregnancy: 3,
  },
  {
    day: 9,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "به روزهای اوج انرژی نزدیک می‌شویم و بدن در حال آماده شدن برای تخمک‌گذاری است. احساس جذابیت و اعتماد به نفس بیشتری می‌کنی.",
    bleeding: 0,
    hormones: "استروژن به سطح بالایی می‌رسد و تو را برای فاز بعدی و اوج باروری آماده می‌کند. بدنت به طور غریزی در حال آماده شدن است.",
    mood: "روحیه بسیار خوب و میل جنسی بیشتر. امروز روز درخشیدن توست! از این حس قدرت و جذابیت لذت ببر.",
    energy: 8,
    libido: 8,
    partner: "یک قرار شام دونفره یا رفتن به یک مهمانی می‌تواند بسیار لذت‌بخش باشد. او در این روزها از همیشه اجتماعی‌تر است.",
    pregnancy: 4,
  },
  {
    day: 10,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "انرژی و میل جنسی بالا باقی می‌ماند. امروز احساس شکست‌ناپذیری می‌کنی و آماده‌ای تا هر چالشی را قبول کنی. از این قدرت استفاده کن.",
    bleeding: 0,
    hormones: "استروژن زیاد است و تو را سرشار از حس خوب و انرژی نگه می‌دارد. این دوره، زمان طلایی خلاقیت و بهره‌وری توست.",
    mood: "روحیه عالی و انگیزه بالا. از بودن در جمع و ارتباط با دیگران لذت می‌بری و به راحتی می‌توانی دیگران را متقاعد کنی.",
    energy: 8,
    libido: 8,
    partner: "با هم یک فعالیت ورزشی یا سرگرمی جدید را امتحان کنید. هیجان مشترک رابطه را تقویت می‌کند.",
    pregnancy: 5,
  },
  {
    day: 11,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "شمارش معکوس برای تخمک‌گذاری شروع شده! انرژی و میل جنسی به شکل قابل توجهی زیاد است و بدنت در حال رسیدن به اوج آمادگی است.",
    bleeding: 0,
    hormones: "استروژن در سطح بالا قرار دارد و بدن در حال ارسال سیگنال‌های آمادگی برای باروری است. این آمادگی در تمام وجودت حس می‌شود.",
    mood: "انگیزه و میل جنسی قابل توجه. احساس می‌کنی بسیار جذاب و خواستنی هستی و اعتماد به نفست به اوج می‌رسد.",
    energy: 9,
    libido: 9,
    partner: "به او بگو که چقدر زیبا و جذاب است. تعریف و تمجید تو در این روزها معجزه می‌کند و حس فوق‌العاده‌ای به او می‌دهد.",
    pregnancy: 6,
  },
  {
    day: 12,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "انرژی همچنان بالاست و میل جنسی به اوج خود نزدیک می‌شود. تو در بهترین حالت اجتماعی و ارتباطی خود هستی.",
    bleeding: 0,
    hormones: "استروژن (هورمون ستاره درونت!) به بیشینه خود نزدیک می‌شود و تو را برای روز بزرگ آماده می‌کند.",
    mood: "خلق عالی و انرژی زیاد. آماده‌ای تا مرکز توجه باشی و بدرخشی. از این حس قدرت لذت ببر.",
    energy: 9,
    libido: 9,
    partner: "با دوستان مشترکتان یک برنامه تفریحی ترتیب دهید. او از بودن در جمع لذت خواهد برد و بسیار خوش‌صحبت خواهد بود.",
    pregnancy: 7,
  },
  {
    day: 13,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "بدن شما مانند یک کمان کشیده شده آماده برای رها کردن تخمک است. امروز احساس جذابیت و قدرت فوق‌العاده‌ای داری.",
    bleeding: 0,
    hormones: "استروژن در بیشترین مقدار خود قرار دارد و بدن برای رویداد اصلی یعنی تخمک‌گذاری، آماده می‌شود.",
    mood: "انگیزه و میل جنسی بالا. اعتماد به نفست در اوج است و آماده‌ای تا دنیا را فتح کنی. این حس را جشن بگیر.",
    energy: 9,
    libido: 10,
    partner: "یک هدیه کوچک و بی‌مقدمه یا یک شاخه گل می‌تواند او را بسیار خوشحال کند و نشان‌دهنده توجه تو باشد.",
    pregnancy: 8,
  },
  {
    day: 14,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "بالاترین سطح انرژی و میل جنسی! استروژن در قله‌ی خود قرار دارد و تو را به یک آهنربای جذابیت تبدیل کرده است.",
    bleeding: 0,
    hormones: "استروژن در پیک (اوج) خود است و تو را تبدیل به یک ستاره درخشان کرده! این اوج قدرت زنانه توست.",
    mood: "روحیه عالی و انرژی زیاد. بهترین زمان برای درخشیدن و ارائه توانایی‌هایت در کار و زندگی شخصی است.",
    energy: 10,
    libido: 10,
    partner: "به او بگو که چقدر به وجودش و موفقیت‌هایش افتخار می‌کنی. از این فرصت برای تحسین او و ابراز عشق و میک لاو استفاده کن.",
    pregnancy: 9,
  },
  {
    day: 15,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "انرژی و میل جنسی در اوج مطلق قرار دارند. این آخرین روزهای فاز بهاری بدن توست. از این حس قدرت و سرزندگی نهایت استفاده را ببر.",
    bleeding: 0,
    hormones: "استروژن بسیار بالاست و همه چیز برای رویداد بزرگ فردا (تخمک‌گذاری) مهیاست. بدنت کاملاً آماده است.",
    mood: "انگیزه و میل جنسی بالا. احساس قدرت و سرزندگی فوق‌العاده‌ای داری و آماده‌ای تا بدرخشی.",
    energy: 10,
    libido: 10,
    partner: "از این انرژی فوق‌العاده برای یک شب رمانتیک و فراموش‌نشدنی استفاده کنید. بهترین زمان برای یک معاشقه و سکس  است.",
    pregnancy: 9,
  },
  {
    day: 16,
    phase: "فولیکولی",
    icon: "fa-leaf",
    color: "var(--c-follicular)",
    description: "بدن در حال انتقال به فاز تخمک‌گذاری است. انرژی همچنان در اوج است و همه چیز برای رویداد اصلی مهیاست.",
    bleeding: 0,
    hormones: "استروژن بالا و بدن کاملاً برای تخمک‌گذاری آماده است. شمارش معکوس برای لحظه بزرگ شروع شده!",
    mood: "خلق و انرژی زیاد. احساس می‌کنی روی ابرها راه می‌روی و هیچ چیز نمی‌تواند جلوی تو را بگیرد.",
    energy: 10,
    libido: 10,
    partner: "امروز بهترین روز برای گرفتن تصمیم‌های مهم دونفره یا برنامه‌ریزی برای آینده است. از این شفافیت ذهنی استفاده کنید.",
    pregnancy: 10,
  },
  {
    day: 17,
    phase: "تخمک‌گذاری",
    special: "ovulation",
    icon: "fa-star",
    color: "var(--c-ovulation)",
    description: "روز تخمک‌گذاری! امروز تخمک بالغ و زیبا از تخمدان آزاد می‌شود. تو در اوج باروری، قدرت زنانگی و جذابیت خودت هستی.",
    bleeding: 0,
    hormones: "اوج استروژن باعث یک جهش در هورمون LH (هورمون لوتئینه‌کننده که مثل یک جرقه برای آزادسازی تخمک است) شده.",
    mood: "اعتماد به نفس بالا، اجتماعی، خوش‌صحبت و فوق‌العاده جذاب! حس می‌کنی ملکه جهان هستی و واقعاً هم هستی!",
    energy: 10,
    libido: 10,
    partner: "امروز بهترین روز برای ابراز عشق و برنامه‌ریزی یک قرار عاشقانه و خاص است. از این انرژی و جذابیت فوق‌العاده لذت ببرید.",
    pregnancy: 10,
  },
  {
    day: 18,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "به فصل پاییز خوش آمدی. بعد از هیجان تابستان، حالا بدن با افزایش پروژسترون وارد فاز آرامش می‌شود تا رحم را برای بارداری احتمالی آماده کند.",
    bleeding: 0,
    hormones: "پروژسترون (هورمون آرامش و حامی بارداری) در حال افزایش و استروژن در حال کاهش است. این تغییر، شیفت از انرژی بیرونی به درونی است.",
    mood: "ممکن است کمی آرام‌تر و درون‌گراتر شوی. احتمال تحریک‌پذیری و تغییرات خلقی اولیه وجود دارد. حس «لانه‌سازی» سراغت می‌آید.",
    energy: 9,
    libido: 9,
    partner: "حمایت و صبوری در این فاز جدید اهمیت زیادی دارد. از این آرامش نسبی لذت ببرید و یک شب آرام را با هم بگذرانید.",
    pregnancy: 8,
  },
  {
    day: 19,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "انرژی کمی کمتر شده و ممکن است نشانه‌های اولیه پیش از قاعدگی یا PMS (مجموعه‌ای از علائم جسمی و روحی قبل از پریود) مثل نفخ یا حساسیت سینه ظاهر شوند.",
    bleeding: 0,
    hormones: "پروژسترون بالا است و بدن را در حالت آماده‌باش و کمی تنش نگه می‌دارد. این هورمون دمای بدن را نیز کمی بالا می‌برد.",
    mood: "امکان اضطراب یا تغییرات خلقی بیشتر است. شاید کمی بی‌قرار باشی و ندانی دلیلش چیست. این به خاطر نوسان هورمون‌هاست.",
    energy: 8,
    libido: 8,
    partner: "صبور باش و اگر دیدی کمی مضطرب است، به او اطمینان و آرامش بده. یک آغوش گرم می‌تواند بسیار کمک‌کننده باشد.",
    pregnancy: 7,
  },
  {
    day: 20,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "انرژی و میل جنسی به کاهش تدریجی خود ادامه می‌دهند. تمایل به آرامش، کارهای خانگی و مرتب‌سازی بیشتر می‌شود.",
    bleeding: 0,
    hormones: "پروژسترون همچنان بالاست و این حالت آرام و کمی سنگین را حفظ می‌کند. بدن هنوز منتظر سیگنال بارداری است.",
    mood: "احتمال تحریک‌پذیری و تغییرات خلقی وجود دارد. آستانه تحملت ممکن است کمی پایین آمده باشد و به سکوت بیشتری نیاز داشته باشی.",
    energy: 8,
    libido: 7,
    partner: "به نیاز او برای آرامش احترام بگذار و او را برای بیرون رفتن یا مهمانی رفتن تحت فشار قرار نده.",
    pregnancy: 6,
  },
  {
    day: 21,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "سطح انرژی متوسط است و علائم PMS (سندروم پیش از قاعدگی) ممکن است خود را بیشتر نشان دهند.",
    bleeding: 0,
    hormones: "پروژسترون هنوز بالاست اما بدن کم‌کم آماده کاهش سطح آن می‌شود، چون سیگنال بارداری را دریافت نکرده است.",
    mood: "احتمال تغییرات خلقی و حساسیت احساسی. ممکن است دلت بخواهد به خاطرات گذشته فکر کنی یا کمی بغض کنی.",
    energy: 7,
    libido: 6,
    partner: "یک شنونده خوب باش. گاهی او فقط نیاز دارد حرف بزند بدون اینکه راه‌حلی از تو بخواهد. فقط گوش کن و همدلی نشان بده.",
    pregnancy: 5,
  },
  {
    day: 22,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "انرژی و میل جنسی در سراشیبی قرار گرفته‌اند. بدن کم‌کم متوجه می‌شود که بارداری رخ نداده و آماده افت هورمونی می‌شود.",
    bleeding: 0,
    hormones: "پروژسترون رو به کاهش است و این سرآغاز علائم شدیدتر PMS است. این افت هورمونی دلیل اصلی تغییرات خلقی است.",
    mood: "احتمال تحریک‌پذیری بیشتر است. صبر و حوصله‌ات کمتر از همیشه است و ممکن است به سادگی از کوره در بروی.",
    energy: 6,
    libido: 5,
    partner: "آرامش خودت را حفظ کن و مسائل را شخصی نکن. این حالت گذراست و به زودی تمام می‌شود.",
    pregnancy: 4,
  },
  {
    day: 23,
    phase: "لوتئال",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "کاهش انرژی ادامه دارد. علائم جسمی PMS مانند نفخ، سردرد یا جوش صورت ممکن است شدیدتر شوند.",
    bleeding: 0,
    hormones: "پروژسترون به سرعت در حال کاهش است و بدن را تحت تاثیر قرار می‌دهد. این افت، سیگنال شروع چرخه جدید است.",
    mood: "امکان اضطراب یا حساسیت احساسی بیشتر است. ممکن است احساس کنی کسی تو را درک نمی‌کند و بسیار تنها هستی.",
    energy: 6,
    libido: 4,
    partner: "در کارهای خانه به او کمک کن. همین کارهای کوچک، حمایت بزرگی محسوب می‌شود و به او نشان می‌دهد که تنها نیست.",
    pregnancy: 3,
  },
  {
    day: 24,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "شروع رسمی PMS (سندروم پیش از قاعدگی)! سطح انرژی و میل جنسی کاهش می‌یابد. رسماً وارد هفته پیش از قاعدگی شده‌ای. با خودت مهربان باش.",
    bleeding: 0,
    hormones: "پروژسترون پایین می‌آید و این باعث تشدید علائم روحی و جسمی می‌شود. تعادل هورمونی به هم می‌ریزد.",
    mood: "احتمال بروز علائم پیش از قاعدگی بیشتر است. ممکن است احساس کلافگی، بی‌قراری و غمگینی کنی.",
    energy: 5,
    libido: 4,
    partner: "از بحث و جدل‌های بی‌مورد پرهیز کن. الان زمان مناسبی برای حل مسائل پیچیده نیست. فقط آرامش را حفظ کن.",
    pregnancy: 2,
  },
  {
    day: 25,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "انرژی متوسط است و بدن در حال آماده شدن برای چرخه بعدی است. وقتش است سرعت را کم کنی و به خودت و نیازهایت توجه کنی.",
    bleeding: 0,
    hormones: "پروژسترون کاهش یافته است و هورمون آرامش‌بخش در حال ترک بدن است. این باعث می‌شود احساس آسیب‌پذیری کنی.",
    mood: "احتمال تغییرات خلقی و حساسیت احساسی وجود دارد. ممکن است از یک تبلیغ تلویزیونی هم اشکت دربیاید و این کاملاً اوکی است!",
    energy: 5,
    libido: 3,
    partner: "از او بپرس: «شکلات می‌خوای یا پیتزا؟» گاهی بهترین راه حمایت، برآورده کردن هوس‌های کوچک و نشان دادن توجه است!",
    pregnancy: 1,
  },
  {
    day: 26,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "انرژی کم است و بدن برای شروع سیکل جدید آماده می‌شود. با خودت مهربان باش و برنامه سنگین نچین. نه گفتن را تمرین کن.",
    bleeding: 0,
    hormones: "پروژسترون پایین‌تر شده و بدن خودش را برای شروع مجدد و ریزش دیواره رحم آماده می‌کند.",
    mood: "خلق ممکن است بسیار متغیر باشد. در یک لحظه شاد و در لحظه بعد غمگین هستی. این نوسان طبیعی است.",
    energy: 4,
    libido: 3,
    partner: "صبور باش و به یاد داشته باش که این حالت موقتی است و به زودی تمام می‌شود. او به درک تو نیاز دارد.",
    pregnancy: 1,
  },
  {
    day: 27,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "به قاعدگی خیلی نزدیک شده‌ای. علائم PMS (سندروم پیش از قاعدگی) می‌تواند به اوج خود برسد. نفس عمیق بکش.",
    bleeding: 0,
    hormones: "پروژسترون نزدیک به پایین‌ترین مقدار است و این افت شدید باعث این همه حساسیت روحی و جسمی می‌شود.",
    mood: "پوست دلت نازک شده! ممکن است با کوچکترین حرفی ناراحت شوی یا بغض کنی. خودت را سرزنش نکن و به خودت عشق بورز.",
    energy: 3,
    libido: 2,
    partner: "اینجا مرحله «فقط سکوت کن و بغلش کن» است! حرف‌هایش را به دل نگیر و فقط حضور داشته باش. این بزرگترین کمک است.",
    pregnancy: 0,
  },
  {
    day: 28,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "آمادگی نهایی برای قاعدگی. حساسیت و تحریک‌پذیری در بالاترین حد خود قرار دارد. فقط سعی کن این روز را به سلامت بگذرانی.",
    bleeding: 0,
    hormones: "پروژسترون بسیار پایین است و بدن در آستانه شروع چرخه جدید قرار دارد. بدن در حال آماده‌باش کامل است.",
    mood: "حساسیت و تحریک‌پذیری ممکن است زیاد باشد. احساس می‌کنی در یک دیگ زودپز در حال جوشیدنی. از موقعیت‌های استرس‌زا دوری کن.",
    energy: 3,
    libido: 2,
    partner: "فضایی آرام و بدون تنش برایش فراهم کن و از او توقع زیادی نداشته باش. بگذار در آرامش باشد.",
    pregnancy: 0,
  },
  {
    day: 29,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "آمادگی کامل برای شروع قاعدگی. بدن در حال آماده شدن برای رهاسازی است. به خودت استراحت مطلق بده.",
    bleeding: 0,
    hormones: "پروژسترون پایین است و بدن منتظر سیگنال شروع پریود است. این سکوت قبل از طوفان (قاعدگی) است.",
    mood: "علائم جسمی و خلقی می‌تواند اوج بگیرد. ممکن است از همه چیز و همه کس خسته باشی و فقط سکوت بخواهی.",
    energy: 2,
    libido: 1,
    partner: "قهرمان باش! تمام مسئولیت‌های خانه را به عهده بگیر و بگذار استراحت کند. این بهترین نوع عشق ورزیدن است.",
    pregnancy: 0,
  },
  {
    day: 30,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "پایان فاز پاییزی. بدن در سکوت کامل، منتظر شروع دوباره است. انرژی در پایین‌ترین سطح خود قرار دارد.",
    bleeding: 0,
    hormones: "پروژسترون به حداقل رسیده است و بدن در حالت انتظار برای شروع مجدد قرار دارد. این پایان یک سفر و آغاز سفری دیگر است.",
    mood: "حساسیت و تحریک‌پذیری زیاد است. احساس می‌کنی روی لبه‌ی تیغ راه می‌روی و بسیار آسیب‌پذیری.",
    energy: 2,
    libido: 1,
    partner: "فقط کنارش باش. حضور آرام تو بهترین حمایت است و نشان می‌دهد که در هر حالی، چه در اوج انرژی و چه در خستگی، دوستش داری.",
    pregnancy: 0,
  },
  {
    day: 31,
    phase: "لوتئال",
    special: "pms",
    icon: "fa-moon",
    color: "var(--c-luteal)",
    description: "آخرین روز این سفر! بدن آماده می‌شود تا با شروع خونریزی فردا، دکمه ری‌استارت را بزند و از نو شروع کند.",
    bleeding: 0,
    hormones: "پروژسترون و استروژن هر دو در کف مطلق قرار دارند و منتظرند تا با شروع پریود، همه‌چیز از نو شروع شود.",
    mood: "حساسیت و نوسانات خلقی زیاد است. خسته از خستگی هستی! این نیز بگذرد و فردا روز جدیدی است.",
    energy: 1,
    libido: 1,
    partner: "صبر تو امروز، سرمایه‌گذاری برای روزهای خوب و پر انرژی آینده است. امشب شام مورد علاقه‌اش را درست کن!",
    pregnancy: 0,
  },
]; 
        
        
        ; function getDayData(d,t){const a=4,e=Math.max(10,t-14);let o;if(d<=a)o={...cycleData[d]};else if(d<e){const t=Math.round(5+(d-5)/(e-5-1)*11);o={...cycleData[Math.min(16,t)]}}else if(d===e)o={...cycleData[17]};else{const a=Math.round(18+(d-e-1)/(t-e-1)*13);o={...cycleData[Math.min(31,a)]}}return t-d<=7&&d>e&&(o.special="pms"),o} function toJalali(a,e,t){const n=[0,31,59,90,120,151,181,212,243,273,304,334],o=e>2?a+1:a;let r=355666+365*a+Math.floor((o+3)/4)-Math.floor((o+99)/100)+Math.floor((o+399)/400)+t+n[e-1];let i=-1595+33*Math.floor(r/12053);r%=12053,i+=4*Math.floor(r/1461),r%=1461,r>365&&(i+=Math.floor((r-1)/365),r=(r-1)%365);const l=r<186?1+Math.floor(r/31):7+Math.floor((r-186)/30),s=1+(r<186?r%31:(r-186)%30);return{jy:i,jm:l,jd:s}}function getJalaliMonthLength(a,e){return e<=6?31:e<=11?30:((a-474)%2820+512)*682%2816<682?30:29}function createDatePickerModal(){const a=`<div id="datePickerModal" class="modal-overlay"><div class="modal-content"><div class="modal-header"><button id="closeModal" class="btn btn-close">انصراف</button><button id="confirmDate" class="btn btn-confirm">تایید</button></div><div class="selectors-container"><div id="pdp-year" class="selector-column"></div><div id="pdp-month" class="selector-column"></div><div id="pdp-day" class="selector-column"></div></div></div></div>`;document.body.insertAdjacentHTML("beforeend",a)}function initializePersianDatePicker(a){createDatePickerModal();const e=toJalali(new Date().getFullYear(),new Date().getMonth()+1,new Date().getDate()),t=document.getElementById("datePickerModal"),n=()=>t.classList.add("visible"),o=()=>t.classList.remove("visible");function r(){const e=a=>{document.getElementById(a).addEventListener("click",n)};e("lastPeriodDate"),e("settingsPeriodDate"),document.getElementById("closeModal").addEventListener("click",o),t.addEventListener("click",a=>{a.target===t&&o()}),document.getElementById("confirmDate").addEventListener("click",()=>{const t=parseInt(i.getValue()),n=parseInt(l.getValue()),r=parseInt(s.getValue()),d=a=>(a<10?"0":"")+a,c=document.getElementById(a),g=document.getElementById("settingsPeriodDate");c&&(c.value=`${t}/${d(n)}/${d(r)}`,c.dataset.jalaliDate=`${t}-${n}-${r}`),g&&(g.value=`${t}/${d(n)}/${d(r)}`,g.dataset.jalaliDate=`${t}-${n}-${r}`),o()})}class d{constructor(a){this.el=document.querySelector(a.el),this.source=a.source,this.itemHeight=44,this.middleIndex=2,this.onChange=a.onChange||function(){},this._init(a.selectedIndex||0)}_init(a){this.el.innerHTML=`<ul class="selector-list">${this.source.map(a=>`<li class="selector-item">${a.text}</li>`).join("")}</ul><div class="selector-highlight"></div>`,this.list=this.el.querySelector("ul"),this.items=this.el.querySelectorAll("li"),this.select(a,!1),this._attachEvents()}_attachEvents(){let a=0,e=0,t=!1;const n=(n=>{n.stopPropagation(),a=n.touches?n.touches[0].clientY:n.clientY,e=parseFloat(this.list.style.transform.replace("translateY(",""))||0,this.list.style.transition="none",t=!0}),o=(n=>{if(!t)return;n.preventDefault();let o=(n.touches?n.touches[0].clientY:n.clientY)-a;this.list.style.transform=`translateY(${e+o}px)`}),r=(()=>{t&&(t=!1,this._snap())});this.el.addEventListener("mousedown",n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",r),this.el.addEventListener("touchstart",n,{passive:!1}),this.el.addEventListener("touchmove",o,{passive:!1}),this.el.addEventListener("touchend",r)}_snap(){let a=parseFloat(this.list.style.transform.replace("translateY(",""))||0,e=Math.round((a-this.middleIndex*this.itemHeight)/-this.itemHeight);this.select(e)}select(a,e=!0){a=Math.max(0,Math.min(a,this.source.length-1));const t=this.selectedIndex!==a;this.selectedIndex=a,this.list.style.transition="transform 0.2s ease-out",this.list.style.transform=`translateY(${(this.middleIndex-this.selectedIndex)*this.itemHeight}px)`,this.items.forEach((e,t)=>{e.classList.toggle("selected",t===a)}),t&&e&&this.onChange()}updateSource(a){this.source=a,this.list.innerHTML=this.source.map(a=>`<li class="selector-item">${a.text}</li>`).join(""),this.items=this.el.querySelectorAll("li");const e=Math.min(this.selectedIndex,this.source.length-1);this.select(e,!1)}getValue(){return this.source[this.selectedIndex].value}}const c=(a,e)=>Array.from({length:e-a+1},(_,t)=>({value:a+t,text:a+t})),g=(a,e)=>c(1,getJalaliMonthLength(a,e)),p=()=>[{value:1,text:"فروردین"},{value:2,text:"اردیبهشت"},{value:3,text:"خرداد"},{value:4,text:"تیر"},{value:5,text:"مرداد"},{value:6,text:"شهریور"},{value:7,text:"مهر"},{value:8,text:"آبان"},{value:9,text:"آذر"},{value:10,text:"دی"},{value:11,text:"بهمن"},{value:12,text:"اسفند"}],u=()=>{const a=parseInt(i.getValue()),e=parseInt(l.getValue());s.updateSource(g(a,e))};let i=new d({el:"#pdp-year",source:c(1390,e.jy+1),selectedIndex:e.jy-1390,onChange:u}),l=new d({el:"#pdp-month",source:p(),selectedIndex:e.jm-1,onChange:u}),s=new d({el:"#pdp-day",source:g(e.jy,e.jm),selectedIndex:e.jd-1});r()}
        initializePersianDatePicker("lastPeriodDate");
        
        const dom = {
            html: document.documentElement, setupView: document.getElementById('setupView'), trackerView: document.getElementById('trackerView'),
            startTrackingBtn: document.getElementById('startTrackingBtn'), openSettingsBtn: document.getElementById('openSettingsBtn'),
            settingsOverlay: document.getElementById('settingsOverlay'), settingsPanel: document.getElementById('settingsPanel'),
            saveSettingsBtn: document.getElementById('saveSettingsBtn'), cancelSettingsBtn: document.getElementById('cancelSettingsBtn'),
            themeToggle: document.getElementById('themeToggle'), lastPeriodDateInput: document.getElementById('lastPeriodDate'),
            cycleLengthInput: document.getElementById('cycleLength'), settingsPeriodDateInput: document.getElementById('settingsPeriodDate'),
            settingsCycleLengthInput: document.getElementById('settingsCycleLength'), progressCircleFg: document.getElementById('progress-circle-fg'),
            progressDayNumber: document.getElementById('progressDayNumber'), phaseIcon: document.getElementById('phaseIcon'),
            cyclePhaseTitle: document.getElementById('cyclePhaseTitle'), detailsGrid: document.getElementById('detailsGrid'),
            prevDayBtn: document.getElementById('prevDayBtn'), nextDayBtn: document.getElementById('nextDayBtn'), todayBtn: document.getElementById('todayBtn'),
            specialDayBanner: document.getElementById('specialDayBanner'), displayedJalaliDate: document.getElementById('displayedJalaliDate'),
            periodAlertCard: document.getElementById('periodAlertCard'),
            aboutBtn: document.getElementById('aboutBtn'), aboutOverlay: document.getElementById('aboutOverlay'),
            aboutPanel: document.getElementById('aboutPanel'), closeAboutBtn: document.getElementById('closeAboutBtn'),
        };

        const appState = { startDate: null, cycleLength: 28, currentDisplayDate: new Date() };
        
        const toPersian = str => str.toString().replace(/[0-9]/g, w => '۰۱۲۳۴۵۶۷۸۹'[w]);
        const jalaliToDate = str => { const [y, m, d] = str.split('-').map(Number); const g = y + 621; return new Date(Date.UTC(g, m + 1, d + 20)); };
        const dateDiff = (a, b) => Math.floor((b - a) / (1000 * 60 * 60 * 24));
        const getQualitativeText = (val) => { if (val >= 8) return 'بالا'; if (val >= 4) return 'متوسط'; if (val > 0) return 'کم'; return '—'; };
        
        const renderUI = () => {
            if (!appState.startDate) return;
            const dayDiff = dateDiff(appState.startDate, appState.currentDisplayDate);
            if (dayDiff < 0) return;
            const dayOfCycle = (dayDiff % appState.cycleLength) + 1;
            const data = getDayData(dayOfCycle, appState.cycleLength);
            
            let phaseColor = data.color, phaseIcon = data.icon, bannerHTML = '', bannerClass = '';
            
            dom.html.style.setProperty('--phase-theme-color', data.color);

            // Handle Banners (PMS, Ovulation)
            dom.specialDayBanner.style.display = 'none'; // Reset banner
            if (data.special === 'ovulation') { 
                bannerClass = 'ovulation'; 
                bannerHTML = `<i class="fa-solid fa-star"></i> روز تخمک‌گذاری! شانس باروری در اوج است.`; 
                dom.specialDayBanner.innerHTML = bannerHTML;
                dom.specialDayBanner.className = `special-banner ${bannerClass}`;
                dom.specialDayBanner.style.display = 'flex';
            } else if (data.special === 'pms') { 
                bannerClass = 'pms'; 
                bannerHTML = `<i class="fa-solid fa-triangle-exclamation"></i> احتمال علائم PMS. مراقب خود باشید.`; 
                phaseColor = 'var(--c-pms)'; 
                phaseIcon = 'fa-cloud-bolt';
                dom.html.style.setProperty('--phase-theme-color', phaseColor);
                dom.specialDayBanner.innerHTML = bannerHTML;
                dom.specialDayBanner.className = `special-banner ${bannerClass}`;
                dom.specialDayBanner.style.display = 'flex';
            }
            
            // Handle Period Alert Card
            const daysRemaining = appState.cycleLength - dayOfCycle;
            if (daysRemaining >= 0 && daysRemaining <= 2) {
                let alertText = `پریود شما تا <b>${toPersian(daysRemaining + 1)} روز دیگر</b> شروع می‌شود.`;
                if (daysRemaining === 0) {
                    alertText = "پریود شما احتمالاً از <b>فردا</b> شروع می‌شود.";
                }
                dom.periodAlertCard.innerHTML = `<i class="fa-solid fa-bell"></i>${alertText}`;
                dom.periodAlertCard.style.display = 'flex';
            } else {
                dom.periodAlertCard.style.display = 'none';
            }

            // Main UI Update
            dom.progressCircleFg.style.stroke = phaseColor;
            const r = 45, circ = 2 * Math.PI * r;
            dom.progressCircleFg.style.strokeDasharray = circ;
            dom.progressCircleFg.style.strokeDashoffset = circ - (dayOfCycle / appState.cycleLength) * circ;

            dom.progressDayNumber.textContent = toPersian(dayOfCycle);
            dom.phaseIcon.className = `fa-solid ${phaseIcon}`;
            dom.phaseIcon.style.color = phaseColor;
            dom.cyclePhaseTitle.textContent = data.phase;
            
            const jDate = toJalali(appState.currentDisplayDate.getFullYear(), appState.currentDisplayDate.getMonth() + 1, appState.currentDisplayDate.getDate());
            dom.displayedJalaliDate.textContent = toPersian(`${jDate.jy}/${String(jDate.jm).padStart(2,'0')}/${String(jDate.jd).padStart(2,'0')}`);

            const renderStat = (label, value) => `<div class="stat-item"><div class="stat-label"><span>${label}</span><span class="qualitative-text">${getQualitativeText(value)}</span></div><div class="progress-bar-container"><div class="progress-bar" style="width: ${value * 10}%"></div></div></div>`;
            dom.detailsGrid.innerHTML = `
                <div class="card-base"><div class="detail-card-header"><i class="detail-card-icon fa-solid fa-book-open"></i><h3 class="detail-card-title">توضیحات روز</h3></div><div class="detail-card-content"><p>${data.description}</p></div></div>
                <div class="card-base"><div class="detail-card-header"><i class="detail-card-icon fa-solid fa-face-grin-beam"></i><h3 class="detail-card-title">وضعیت احساسی</h3></div><div class="detail-card-content"><p>${data.mood}</p></div></div>
                <div class="card-base"><div class="detail-card-header"><i class="detail-card-icon fa-solid fa-heart-pulse"></i><h3 class="detail-card-title">وضعیت فیزیکی</h3></div><div class="detail-card-content"><div class="stats-grid">${renderStat('سطح انرژی', data.energy)}${renderStat('میل جنسی', data.libido)}${renderStat('خونریزی', data.bleeding)}${renderStat('احتمال باروری', data.pregnancy)}</div></div></div>
                <div class="card-base"><div class="detail-card-header"><i class="detail-card-icon fa-solid fa-hand-holding-heart"></i><h3 class="detail-card-title">راهنمایی</h3></div><div class="detail-card-content"><p><b>تغییرات هورمونی:</b> ${data.hormones}<br><b>توصیه به شریک:</b> ${data.partner}</p></div></div>
            `;
        };
        
        const showTracker = settings => {
            appState.startDate = jalaliToDate(settings.startDate);
            appState.cycleLength = settings.cycleLength;
            appState.currentDisplayDate = new Date();
            dom.setupView.style.display = 'none';
            dom.trackerView.style.display = 'flex';
            renderUI();
        };

        const saveSettings = () => {
            const settings = {
                startDate: dom.settingsPeriodDateInput.dataset.jalaliDate,
                cycleLength: parseInt(dom.settingsCycleLengthInput.value, 10),
            };
            localStorage.setItem('lunaAppSettings', JSON.stringify(settings));
            return settings;
        };
        
        const togglePanel = (overlay, panel, show) => {
            overlay.classList.toggle('active', show);
            panel.classList.toggle('active', show);
        };

        const toggleSettingsPanel = show => {
            if (show) {
                const settings = JSON.parse(localStorage.getItem('lunaAppSettings'));
                if (settings) {
                    const [y, m, d] = settings.startDate.split('-');
                    dom.settingsPeriodDateInput.value = toPersian(`${y}/${m.padStart(2,'0')}/${d.padStart(2,'0')}`);
                    dom.settingsPeriodDateInput.dataset.jalaliDate = settings.startDate;
                    dom.settingsCycleLengthInput.value = settings.cycleLength;
                }
            }
            togglePanel(dom.settingsOverlay, dom.settingsPanel, show);
        };
        
        const setTheme = theme => {
            dom.themeToggle.checked = theme === 'dark';
            dom.html.classList.toggle('dark-mode', theme === 'dark');
            localStorage.setItem('lunaTheme', theme);
        };
        
        // --- Event Listeners ---
        dom.themeToggle.addEventListener('change', () => setTheme(dom.themeToggle.checked ? 'dark' : 'light'));
        
        dom.openSettingsBtn.addEventListener('click', () => toggleSettingsPanel(true));
        dom.cancelSettingsBtn.addEventListener('click', () => toggleSettingsPanel(false));
        dom.settingsOverlay.addEventListener('click', () => toggleSettingsPanel(false));
        
        dom.aboutBtn.addEventListener('click', () => togglePanel(dom.aboutOverlay, dom.aboutPanel, true));
        dom.closeAboutBtn.addEventListener('click', () => togglePanel(dom.aboutOverlay, dom.aboutPanel, false));
        dom.aboutOverlay.addEventListener('click', () => togglePanel(dom.aboutOverlay, dom.aboutPanel, false));

        dom.saveSettingsBtn.addEventListener('click', () => {
            if (!dom.settingsPeriodDateInput.dataset.jalaliDate) { alert('لطفا تاریخ را انتخاب کنید.'); return; }
            const newSettings = saveSettings();
            showTracker(newSettings);
            toggleSettingsPanel(false);
        });

        dom.startTrackingBtn.addEventListener('click', () => {
            const date = dom.lastPeriodDateInput.dataset.jalaliDate;
            const length = parseInt(dom.cycleLengthInput.value, 10);
            if (!date) { alert('لطفا تاریخ را انتخاب کنید.'); return; }
            localStorage.setItem('lunaAppSettings', JSON.stringify({ startDate: date, cycleLength: length }));
            showTracker({ startDate: date, cycleLength: length });
        });

        dom.prevDayBtn.addEventListener('click', () => { appState.currentDisplayDate.setDate(appState.currentDisplayDate.getDate() - 1); renderUI(); });
        dom.nextDayBtn.addEventListener('click', () => { appState.currentDisplayDate.setDate(appState.currentDisplayDate.getDate() + 1); renderUI(); });
        dom.todayBtn.addEventListener('click', () => { appState.currentDisplayDate = new Date(); renderUI(); });
        
        // --- Initial Load ---
        const savedTheme = localStorage.getItem('lunaTheme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        setTheme(savedTheme);

        const savedSettings = JSON.parse(localStorage.getItem('lunaAppSettings'));
        if (savedSettings && savedSettings.startDate) {
            showTracker(savedSettings);
        } else {
            dom.trackerView.style.display = 'none';
            dom.setupView.style.display = 'block';
        }
        
        // --- PWA Service Worker Registration ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js').then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    });
    </script>
</body>
</html>